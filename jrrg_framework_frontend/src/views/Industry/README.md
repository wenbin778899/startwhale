# 行业分析模块

## 功能概述

行业分析模块是基于东方财富行业板块接口（`stock_board_industry_name_em`）开发的comprehensive行业数据分析工具，为投资者提供全面的行业市场分析功能。

## 主要功能

### 1. 数据展示
- **实时数据获取**：集成东方财富行业板块API，获取15个主要行业的实时数据
- **备用数据机制**：当API调用失败时，自动切换至示例数据，确保用户体验
- **数据字段**：包含排名、行业名称、最新价、涨跌额、涨跌幅、总市值、换手率、上涨/下跌家数、领涨股票等

### 2. 统计概览
- **行业总数**：显示当前获取的行业数量
- **上涨/下跌行业数**：统计涨跌行业分布
- **平均涨跌幅**：计算所有行业的平均涨跌幅

### 3. 可视化分析
#### 饼图分析
- 显示TOP 10行业的市值分布
- 智能颜色系统：根据涨跌幅调整透明度
- 详细提示框：包含市值、涨跌幅、占比等信息

#### 柱状图分析
- 显示TOP 15行业的涨跌幅排行
- 颜色区分：红色表示上涨，绿色表示下跌
- 数据标签：直接显示涨跌幅数值

#### 散点图分析
- X轴：市值（亿元）
- Y轴：涨跌幅（%）
- 气泡大小：换手率
- 颜色编码：根据涨跌幅区分

### 4. 数据管理
#### 搜索功能
- 支持按行业名称搜索
- 支持按行业代码搜索
- 实时过滤结果

#### 排序功能
- 按市值排序
- 按涨跌幅排序
- 按换手率排序
- 按价格排序
- 支持升序/降序切换

#### 自动刷新
- 可开启/关闭自动刷新
- 30秒刷新间隔
- 状态显示

### 5. 详细数据表格
- **排名显示**：前三名显示皇冠图标
- **行业信息**：名称和代码
- **价格数据**：最新价、涨跌额、涨跌幅
- **市值信息**：总市值（亿元显示）
- **交易数据**：换手率、上涨下跌家数
- **领涨股票**：显示该行业的领涨股票及其涨跌幅

## 技术特性

### 前端技术
- **框架**：React + Ant Design
- **图表**：ECharts (ReactECharts)
- **状态管理**：React Hooks
- **响应式设计**：适配移动端和桌面端

### 后端接口
- **数据源**：东方财富 `stock_board_industry_name_em`
- **错误处理**：智能备用数据机制
- **返回格式**：标准化JSON响应

### 数据处理
- **字段映射**：完整的数据字段转换
- **类型转换**：确保数值类型正确性
- **异常处理**：优雅降级至备用数据

## 使用方法

### 访问路径
```
http://localhost:3000/industry
```

### 操作指南

1. **查看统计概览**
   - 页面顶部显示行业总数、上涨下跌分布、平均涨跌幅

2. **搜索行业**
   - 在搜索框中输入行业名称或代码
   - 支持模糊搜索

3. **切换图表**
   - 点击"饼图"/"柱状图"/"散点图"按钮
   - 每种图表提供不同的分析视角

4. **排序数据**
   - 选择排序字段（市值/涨跌幅/换手率/价格）
   - 选择排序方向（升序/降序）

5. **开启自动刷新**
   - 切换自动刷新开关
   - 系统每30秒自动更新数据

6. **查看详细数据**
   - 滚动至页面底部查看完整数据表格
   - 支持分页浏览

## 数据说明

### 实时数据字段
- **排名**：行业在当日的排名
- **行业名称**：标准行业分类名称
- **板块代码**：行业对应的代码标识
- **最新价**：行业指数最新价格
- **涨跌额**：相比前一交易日的涨跌额度
- **涨跌幅**：涨跌幅百分比
- **总市值**：行业内所有股票的总市值
- **换手率**：行业平均换手率
- **上涨家数**：行业内上涨股票数量
- **下跌家数**：行业内下跌股票数量
- **领涨股票**：行业内涨幅最大的股票
- **领涨股票涨跌幅**：领涨股票的涨跌幅

### 备用数据
当API调用失败时，系统提供15个主要行业的示例数据，包含完整的数据字段，确保功能正常展示。

## 集成说明

### 从首页访问
- 首页右下角"行业分析"模块
- 点击"查看详情"按钮跳转

### 侧边栏导航
- 左侧导航栏"行业分析"菜单项
- 使用饼图图标标识

## 扩展功能

### 未来可扩展的功能
1. **历史数据对比**：添加时间序列分析
2. **行业关联分析**：分析行业间的相关性
3. **个股详情**：点击行业查看内部个股
4. **预警系统**：设置涨跌幅预警
5. **数据导出**：支持Excel/PDF导出
6. **自定义图表**：更多图表类型和配置选项

## 注意事项

1. **数据延迟**：实时数据可能有轻微延迟，具体以数据源为准
2. **网络依赖**：需要稳定的网络连接获取实时数据
3. **浏览器兼容**：推荐使用现代浏览器（Chrome、Firefox、Safari、Edge）
4. **响应式支持**：在移动设备上使用时，部分功能可能需要横屏查看以获得最佳体验

## 更新日志

### v1.0.0 (2024-12-19)
- ✅ 初始版本发布
- ✅ 基础数据获取和展示
- ✅ 三种图表类型支持
- ✅ 搜索和排序功能
- ✅ 自动刷新机制
- ✅ 响应式设计
- ✅ 完整的错误处理和备用数据机制 